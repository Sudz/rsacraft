<!DOCTYPE html>
<html lang="en-ZA">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>RSAcraft +27 | South African Minecraft Servers</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=VT323&family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        * {
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            box-sizing: border-box;
        }
        
        html, body {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            background: #0a0a0a;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            color: #ffffff;
            -webkit-font-smoothing: antialiased;
        }

        .font-minecraft {
            font-family: 'VT323', monospace;
        }

        ::-webkit-scrollbar {
            width: 0px;
            background: transparent;
        }

        /* Header height is 100px + safe area */
        .glass-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: calc(100px + env(safe-area-inset-top));
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(0, 119, 73, 0.3);
            z-index: 100;
            display: flex;
            align-items: flex-end;
            padding: 12px 16px;
            padding-bottom: 12px;
        }

        /* Content padding must match header height exactly */
        .safe-top {
            padding-top: calc(100px + env(safe-area-inset-top));
        }
        
        .safe-bottom {
            padding-bottom: calc(85px + env(safe-area-inset-bottom));
        }

        .sa-flag-brick {
            width: 44px;
            height: 44px;
            position: relative;
            image-rendering: pixelated;
            box-shadow: inset -2px -2px 0 rgba(0,0,0,0.4), inset 2px 2px 0 rgba(255,255,255,0.2), 2px 2px 4px rgba(0,0,0,0.4);
            flex-shrink: 0;
        }

        .sa-flag-brick::before {
            content: '';
            position: absolute;
            inset: 0;
            background: 
                linear-gradient(135deg, transparent 40%, #007749 40%, #007749 60%, transparent 60%),
                linear-gradient(45deg, transparent 40%, #007749 40%, #007749 60%, transparent 60%),
                linear-gradient(to right, #DE3831 0%, #DE3831 35%, transparent 35%),
                linear-gradient(to left, #002395 0%, #002395 35%, transparent 35%),
                linear-gradient(135deg, transparent 45%, white 45%, white 55%, transparent 55%),
                linear-gradient(45deg, transparent 45%, white 45%, white 55%, transparent 55%),
                linear-gradient(135deg, transparent 48%, black 48%, black 52%, transparent 52%),
                linear-gradient(45deg, transparent 48%, black 48%, black 52%, transparent 52%),
                #FFB612;
        }

        .mobile-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: calc(85px + env(safe-area-inset-bottom));
            background: rgba(10, 10, 10, 0.98);
            border-top: 1px solid rgba(0, 119, 73, 0.3);
            z-index: 100;
            display: flex;
            justify-content: space-around;
            align-items: flex-start;
            padding-top: 10px;
        }

        .nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            color: #666;
            transition: all 0.2s;
            padding: 8px 4px;
            background: none;
            border: none;
            font-family: inherit;
        }

        .nav-item.active {
            color: #22c55e;
        }

        .nav-item svg {
            width: 26px;
            height: 26px;
            margin-bottom: 4px;
        }

        .nav-item span {
            font-size: 11px;
            font-weight: 500;
        }

        .main-container {
            width: 100%;
            max-width: 100%;
            padding-left: 16px;
            padding-right: 16px;
            margin: 0 auto;
        }

        @media (min-width: 640px) {
            .main-container {
                max-width: 600px;
                padding-left: 20px;
                padding-right: 20px;
            }
        }

        .crafting-wrapper {
            background: linear-gradient(145deg, #1a1a1a 0%, #0f0f0f 100%);
            border: 1px solid #333;
            border-radius: 20px;
            padding: 32px 20px;
            margin-bottom: 20px;
            position: relative;
            margin-top: 16px;
        }

        .crafting-header {
            text-align: center;
            margin-bottom: 24px;
        }

        .crafting-header h2 {
            font-size: 28px;
            margin: 0;
            letter-spacing: 2px;
            line-height: 1.3;
        }

        .crafting-header p {
            font-size: 14px;
            color: #FFB612;
            margin: 12px 0 0 0;
        }

        .crafting-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        @media (min-width: 640px) {
            .crafting-area {
                flex-direction: row;
                justify-content: center;
            }
        }

        .grid-section {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .crafting-grid-container {
            background: #c6c6c6;
            border: 3px solid;
            border-color: #fff #555 #555 #fff;
            padding: 12px;
            border-radius: 12px;
            box-shadow: inset 2px 2px 0 #8b8b8b;
        }

        .crafting-grid {
            display: grid;
            grid-template-columns: repeat(3, 48px);
            grid-template-rows: repeat(3, 48px);
            gap: 6px;
        }

        @media (min-width: 640px) {
            .crafting-grid {
                grid-template-columns: repeat(3, 60px);
                grid-template-rows: repeat(3, 60px);
            }
        }

        .crafting-slot {
            background: #8b8b8b;
            border: 2px solid;
            border-color: #373737 #fff #fff #373737;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            position: relative;
            transition: all 0.1s;
        }

        .crafting-slot:active {
            border-color: #fff #373737 #373737 #fff;
            background: #7b7b7b;
        }

        .crafting-slot.filled {
            background: #c6c6c6;
        }

        .crafting-arrow {
            width: 0;
            height: 0;
            border-top: 12px solid transparent;
            border-bottom: 12px solid transparent;
            border-left: 20px solid #FFB612;
            filter: drop-shadow(2px 2px 0 rgba(0,0,0,0.3));
        }

        .result-box {
            width: 68px;
            height: 68px;
            background: #8b8b8b;
            border: 3px solid;
            border-color: #373737 #fff #fff #373737;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            border-radius: 12px;
        }

        @media (min-width: 640px) {
            .result-box {
                width: 80px;
                height: 80px;
                font-size: 44px;
            }
        }

        .result-box.has-result {
            background: linear-gradient(135deg, #c6c6c6 0%, #d4d4d4 100%);
            border-color: #007749 #005a37 #005a37 #007749;
            animation: glow 2s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 10px rgba(0, 119, 73, 0.6); }
            50% { box-shadow: 0 0 20px rgba(0, 119, 73, 0.9); }
        }

        .inventory-section {
            background: #8b8b8b;
            border: 3px solid;
            border-color: #fff #373737 #373737 #fff;
            padding: 16px;
            border-radius: 12px;
            width: 100%;
            max-width: 340px;
        }

        .inventory-title {
            color: #373737;
            font-size: 14px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 12px;
            font-family: 'VT323', monospace;
        }

        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .inventory-slot {
            aspect-ratio: 1;
            background: #8b8b8b;
            border: 2px solid;
            border-color: #fff #373737 #373737 #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.2s;
            min-height: 52px;
        }

        .inventory-slot:active {
            transform: scale(0.95);
        }

        .inventory-slot.selected {
            border-color: #FFB612;
            box-shadow: 0 0 0 3px #FFB612;
            transform: translateY(-2px);
        }

        .hint-box {
            background: rgba(0,0,0,0.4);
            border-radius: 12px;
            padding: 16px;
            margin: 20px 0;
            text-align: center;
        }

        .hint-text {
            color: #ccc;
            font-size: 14px;
            margin: 0;
        }

        .recipes-section {
            background: #0f0f0f;
            border-radius: 16px;
            padding: 20px;
            border: 1px solid #333;
            margin-top: 20px;
        }

        .recipes-title {
            color: #FFB612;
            text-align: center;
            font-size: 18px;
            margin: 0 0 16px 0;
            font-family: 'VT323', monospace;
        }

        .recipes-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        @media (min-width: 480px) {
            .recipes-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .recipe-card {
            background: linear-gradient(145deg, #2a2a2a 0%, #1a1a1a 100%);
            border: 2px solid #444;
            border-radius: 16px;
            padding: 16px 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .recipe-card:active {
            transform: scale(0.98);
        }

        .recipe-card.active {
            background: linear-gradient(145deg, #0a2a1a 0%, #051a0f 100%);
            border-color: #007749;
        }

        .recipe-icon {
            font-size: 32px;
            margin-bottom: 6px;
        }

        .recipe-name {
            color: white;
            font-size: 13px;
            font-weight: 600;
            margin: 0;
        }

        .recipe-hint {
            color: #888;
            font-size: 11px;
            margin: 4px 0 0 0;
        }

        .craft-button {
            width: 100%;
            padding: 18px;
            margin-top: 20px;
            background: linear-gradient(135deg, #FFB612 0%, #d49a0f 100%);
            border: none;
            border-radius: 16px;
            color: #000;
            font-weight: 800;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.2s;
            opacity: 0.5;
            pointer-events: none;
        }

        .craft-button.active {
            opacity: 1;
            pointer-events: all;
            animation: pulse-btn 2s infinite;
        }

        @keyframes pulse-btn {
            0%, 100% { box-shadow: 0 0 0 0 rgba(255, 182, 18, 0.4); }
            50% { box-shadow: 0 0 0 12px rgba(255, 182, 18, 0); }
        }

        .clear-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 44px;
            height: 44px;
            background: #dc2626;
            border: 3px solid white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.5);
            z-index: 10;
        }

        .server-card {
            background: linear-gradient(135deg, #1a1a1a 0%, #0f0f0f 100%);
            border: 1px solid #333;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 16px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .server-card:active {
            transform: scale(0.98);
        }

        .server-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 12px;
        }

        .server-icon {
            width: 56px;
            height: 56px;
            background: #0a0a0a;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            flex-shrink: 0;
        }

        .server-info {
            flex-grow: 1;
            min-width: 0;
        }

        .server-name {
            color: white;
            font-weight: 700;
            font-size: 16px;
            margin: 0 0 4px 0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .server-meta {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: #22c55e;
            border-radius: 50%;
            box-shadow: 0 0 8px #22c55e;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .server-mode {
            background: rgba(255, 182, 18, 0.2);
            color: #FFB612;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
        }

        .server-ip {
            color: #666;
            font-size: 13px;
            font-family: monospace;
            margin: 0;
        }

        .server-stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid #333;
        }

        .player-count {
            color: #888;
            font-size: 14px;
        }

        .join-btn {
            background: #007749;
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
        }

        .map-container {
            background: linear-gradient(135deg, #0f1f0f 0%, #0a0a0a 100%);
            border-radius: 20px;
            border: 1px solid #007749;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }

        .map-wrapper {
            position: relative;
            width: 100%;
            padding-bottom: 120%;
        }

        .map-svg {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
        }

        .map-marker {
            position: absolute;
            transform: translate(-50%, -50%);
            cursor: pointer;
            z-index: 10;
            font-size: 24px;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5));
            transition: transform 0.2s;
        }

        .map-marker:active {
            transform: translate(-50%, -50%) scale(1.2);
        }

        .map-marker.city {
            font-size: 9px;
            color: white;
            text-align: center;
            font-weight: 600;
        }

        .map-marker.city::before {
            content: '';
            display: block;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            margin: 0 auto 4px;
            box-shadow: 0 0 8px white;
        }

        .park-legend {
            background: rgba(0,0,0,0.6);
            border-radius: 16px;
            padding: 20px;
            margin-top: 20px;
        }

        .park-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px;
            cursor: pointer;
            border-radius: 10px;
            transition: background 0.2s;
        }

        .park-item:active {
            background: rgba(255,255,255,0.1);
        }

        .park-color {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        .modal {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.95);
            z-index: 200;
            display: none;
            overflow-y: auto;
        }

        .modal.active {
            display: block;
        }

        .modal-header {
            position: sticky;
            top: 0;
            background: #0a0a0a;
            padding: 20px;
            border-bottom: 1px solid #333;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 10;
        }

        .modal-content {
            padding: 20px;
        }

        .success-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: linear-gradient(135deg, #007749 0%, #005a37 100%);
            border: 3px solid #FFB612;
            border-radius: 24px;
            padding: 40px 32px;
            text-align: center;
            z-index: 300;
            transition: transform 0.3s;
            width: 90%;
            max-width: 340px;
        }

        .success-popup.active {
            transform: translate(-50%, -50%) scale(1);
        }

        .success-icon {
            font-size: 56px;
            margin-bottom: 20px;
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .success-title {
            color: white;
            font-size: 28px;
            margin: 0 0 12px 0;
            font-family: 'VT323', monospace;
        }

        .success-text {
            color: #ccc;
            font-size: 16px;
            margin: 0 0 24px 0;
        }

        .success-btn {
            background: #FFB612;
            color: #000;
            border: none;
            padding: 16px 40px;
            border-radius: 12px;
            font-weight: 700;
            font-size: 18px;
            cursor: pointer;
            width: 100%;
        }

        .console-output {
            background: #000;
            color: #0f0;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            padding: 16px;
            min-height: 300px;
            max-height: 500px;
            overflow-y: auto;
            white-space: pre-wrap;
            line-height: 1.6;
        }

        .console-input-wrapper {
            display: flex;
            gap: 12px;
            padding: 16px;
            background: #111;
            border-top: 1px solid #333;
        }

        .console-input {
            flex-grow: 1;
            background: #1a1a1a;
            border: 1px solid #333;
            color: #0f0;
            padding: 12px 16px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }

        input, select {
            width: 100%;
            background: #1a1a1a;
            border: 1px solid #333;
            color: white;
            padding: 14px;
            border-radius: 12px;
            font-size: 16px;
            margin-bottom: 16px;
            font-family: inherit;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #007749;
        }

        label {
            display: block;
            color: #888;
            font-size: 14px;
            margin-bottom: 6px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: linear-gradient(135deg, #1a1a1a 0%, #0f0f0f 100%);
            border: 1px solid #333;
            border-radius: 16px;
            padding: 20px 8px;
            text-align: center;
        }

        .stat-value {
            font-size: 28px;
            font-weight: 700;
            font-family: 'VT323', monospace;
        }

        .stat-label {
            font-size: 12px;
            color: #888;
            margin-top: 6px;
        }

        .hidden { display: none !important; }

        .recipe-detail-card {
            background: linear-gradient(145deg, #1a1a1a 0%, #0f0f0f 100%);
            border: 2px solid #444;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .recipe-detail-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
            border-bottom: 1px solid #333;
            padding-bottom: 16px;
        }

        .recipe-detail-icon {
            font-size: 48px;
        }

        .recipe-detail-title {
            flex-grow: 1;
        }

        .recipe-detail-title h3 {
            margin: 0;
            color: #FFB612;
            font-size: 20px;
        }

        .recipe-detail-title p {
            margin: 6px 0 0 0;
            color: #888;
            font-size: 14px;
        }

        .recipe-pattern {
            display: grid;
            grid-template-columns: repeat(3, 48px);
            grid-template-rows: repeat(3, 48px);
            gap: 6px;
            margin: 16px auto;
            width: fit-content;
        }

        .recipe-pattern-slot {
            background: #2a2a2a;
            border: 2px solid #444;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .recipe-pattern-slot.filled {
            background: #1a3a1a;
            border-color: #007749;
        }

        .recipe-ingredients {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 16px;
        }

        .recipe-ingredient {
            background: rgba(255,182,18,0.1);
            color: #FFB612;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 13px;
            border: 1px solid rgba(255,182,18,0.3);
        }

        .category-section {
            margin-bottom: 32px;
        }

        .category-title {
            color: #007749;
            font-size: 22px;
            margin: 0 0 16px 0;
            font-family: 'VT323', monospace;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .park-detail-card {
            background: linear-gradient(135deg, #1a1a1a 0%, #0f0f0f 100%);
            border: 1px solid #333;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 16px;
            border-left: 5px solid;
            cursor: pointer;
            transition: all 0.2s;
        }

        .park-detail-card:active {
            transform: scale(0.98);
        }

        .park-detail-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .park-detail-title {
            color: white;
            font-size: 18px;
            font-weight: 700;
            margin: 0;
            line-height: 1.3;
        }

        .park-detail-size {
            background: rgba(0,119,73,0.2);
            color: #22c55e;
            padding: 6px 10px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            white-space: nowrap;
        }

        .park-detail-meta {
            display: flex;
            gap: 16px;
            margin-bottom: 12px;
            flex-wrap: wrap;
        }

        .park-detail-meta-item {
            color: #888;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .park-animals {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 12px;
        }

        .park-animal-tag {
            background: rgba(255,182,18,0.1);
            color: #FFB612;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
        }

        .animal-detail-card {
            background: linear-gradient(135deg, #1a1a1a 0%, #0f0f0f 100%);
            border: 1px solid #333;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 16px;
            border-left: 5px solid;
            cursor: pointer;
            transition: all 0.2s;
        }

        .animal-detail-card:active {
            transform: scale(0.98);
        }

        .animal-detail-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .animal-detail-emoji {
            font-size: 48px;
            line-height: 1;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.5));
        }

        .animal-detail-title {
            flex-grow: 1;
            margin-left: 16px;
        }

        .animal-detail-title h3 {
            color: white;
            font-size: 20px;
            font-weight: 700;
            margin: 0 0 4px 0;
        }

        .animal-detail-location {
            color: #007749;
            font-size: 13px;
            font-weight: 600;
        }

        .animal-detail-meta {
            display: flex;
            gap: 12px;
            margin-bottom: 12px;
            flex-wrap: wrap;
        }

        .animal-detail-meta-item {
            background: rgba(255,255,255,0.05);
            color: #aaa;
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .animal-detail-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .animal-detail-tag {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }

        .animal-detail-tag.diet {
            background: rgba(0,119,73,0.2);
            color: #22c55e;
        }

        .animal-detail-tag.time {
            background: rgba(255,182,18,0.2);
            color: #FFB612;
        }

        .animal-detail-tag.threat {
            background: rgba(220,38,38,0.2);
            color: #ef4444;
        }

        .animal-detail-tag.safe {
            background: rgba(34,197,94,0.2);
            color: #22c55e;
        }

        .info-popup {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.9);
            z-index: 400;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .info-popup.active {
            display: flex;
        }

        .info-popup-content {
            background: linear-gradient(145deg, #1a1a1a 0%, #0f0f0f 100%);
            border: 2px solid #333;
            border-radius: 24px;
            padding: 32px 24px;
            max-width: 400px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }

        .info-popup-close {
            position: absolute;
            top: 16px;
            right: 16px;
            background: #333;
            border: none;
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .info-popup-icon {
            font-size: 64px;
            text-align: center;
            margin-bottom: 16px;
        }

        .info-popup-title {
            color: #FFB612;
            font-size: 24px;
            text-align: center;
            margin: 0 0 8px 0;
            font-family: 'VT323', monospace;
        }

        .info-popup-subtitle {
            color: #888;
            text-align: center;
            font-size: 14px;
            margin: 0 0 20px 0;
        }

        .info-popup-section {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
        }

        .info-popup-section-title {
            color: #007749;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            margin: 0 0 8px 0;
            letter-spacing: 1px;
        }

        .info-popup-section-content {
            color: #ccc;
            font-size: 14px;
            line-height: 1.5;
            margin: 0;
        }

        .info-popup-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 16px;
        }

        .info-popup-tag {
            background: rgba(255,182,18,0.1);
            color: #FFB612;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 12px;
        }

        .weather-widget {
            background: linear-gradient(135deg, #1a1a1a 0%, #0f0f0f 100%);
            border: 1px solid #333;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .weather-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .weather-title {
            color: #FFB612;
            font-size: 16px;
            margin: 0;
            font-family: 'VT323', monospace;
        }

        .weather-location {
            color: #666;
            font-size: 12px;
        }

        .weather-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }

        .weather-item {
            text-align: center;
            padding: 12px;
            background: rgba(255,255,255,0.03);
            border-radius: 12px;
        }

        .weather-emoji {
            font-size: 24px;
            margin-bottom: 4px;
        }

        .weather-temp {
            color: white;
            font-size: 18px;
            font-weight: 700;
        }

        .weather-label {
            color: #666;
            font-size: 11px;
            margin-top: 2px;
        }

        .province-card {
            background: linear-gradient(135deg, #1a1a1a 0%, #0f0f0f 100%);
            border: 1px solid #333;
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 12px;
            cursor: pointer;
        }

        .province-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .province-name {
            color: white;
            font-size: 16px;
            font-weight: 700;
            margin: 0;
        }

        .province-code {
            background: #007749;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
        }

        .province-stats {
            display: flex;
            gap: 16px;
            color: #888;
            font-size: 12px;
        }
    </style>
<base target="_blank">
</head>
<body>
    <!-- Header -->
    <header class="glass-header">
        <div class="sa-flag-brick" onclick="app.navigate('home')"></div>
        <div style="margin-left: 16px; flex-grow: 1;">
            <h1 style="margin: 0; font-size: 24px; font-family: 'VT323', monospace;">
                RSA<span style="color: #FFB612;">craft</span>
            </h1>
            <p style="margin: 0; font-size: 12px; color: #666;">SOUTH AFRICA +27</p>
        </div>
        <button onclick="app.showCreateModal()" style="background: #FFB612; color: #000; border: none; padding: 12px 24px; border-radius: 12px; font-weight: 700; font-size: 14px;">
            + CREATE
        </button>
    </header>

    <!-- Main Content -->
    <main id="app" class="safe-top safe-bottom main-container"></main>

    <!-- Bottom Navigation -->
    <nav class="mobile-nav">
        <button class="nav-item active" onclick="app.navigate('home')" data-nav="home">
            <svg fill="currentColor" viewBox="0 0 20 20"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/></svg>
            <span>Home</span>
        </button>
        <button class="nav-item" onclick="app.navigate('servers')" data-nav="servers">
            <svg fill="currentColor" viewBox="0 0 20 20"><path d="M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"/></svg>
            <span>Servers</span>
        </button>
        <button class="nav-item" onclick="app.navigate('map')" data-nav="map">
            <svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"/></svg>
            <span>Map</span>
        </button>
        <button class="nav-item" onclick="app.navigate('recipes')" data-nav="recipes">
            <svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd"/></svg>
            <span>Recipes</span>
        </button>
    </nav>

    <!-- Create Server Modal -->
    <div id="createModal" class="modal">
        <div class="modal-header">
            <h2 style="margin: 0; font-size: 20px;">Create Server</h2>
            <button onclick="app.hideCreateModal()" style="background: none; border: none; color: #888; font-size: 28px;">&times;</button>
        </div>
        <div class="modal-content">
            <label>Server Name</label>
            <input type="text" id="srvName" placeholder="My RSA Server">
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                <div>
                    <label>Type</label>
                    <select id="srvType">
                        <option value="vanilla">Vanilla</option>
                        <option value="spigot">Spigot</option>
                        <option value="paper">Paper</option>
                    </select>
                </div>
                <div>
                    <label>Mode</label>
                    <select id="srvMode">
                        <option value="Survival">Survival</option>
                        <option value="Creative">Creative</option>
                        <option value="Adventure">Adventure</option>
                    </select>
                </div>
            </div>

            <label>Region</label>
            <select id="srvRegion">
                <option value="jhb">üáøüá¶ Johannesburg</option>
                <option value="cpt">üáøüá¶ Cape Town</option>
                <option value="dur">üáøüá¶ Durban</option>
            </select>

            <label>Max Players: <span id="playerCount" style="color: #FFB612;">20</span></label>
            <input type="range" id="srvPlayers" min="5" max="100" value="20" oninput="document.getElementById('playerCount').textContent = this.value">

            <button onclick="app.createServer()" style="width: 100%; background: #007749; color: white; border: none; padding: 18px; border-radius: 14px; font-weight: 700; font-size: 18px; margin-top: 20px;">
                LAUNCH SERVER
            </button>
        </div>
    </div>

    <!-- Console Modal -->
    <div id="consoleModal" class="modal">
        <div class="modal-header">
            <div>
                <h2 id="consoleTitle" style="margin: 0; font-size: 20px;">Server Console</h2>
                <p id="consoleIp" style="margin: 6px 0 0 0; color: #666; font-size: 13px; font-family: monospace;">192.168.1.1:25565</p>
            </div>
            <div style="display: flex; gap: 12px;">
                <button id="startBtn" onclick="app.startServer()" style="background: #007749; color: white; border: none; padding: 10px 20px; border-radius: 8px; font-size: 13px; font-weight: 600;">START</button>
                <button id="stopBtn" onclick="app.stopServer()" style="background: #dc2626; color: white; border: none; padding: 10px 20px; border-radius: 8px; font-size: 13px; font-weight: 600; display: none;">STOP</button>
                <button onclick="app.hideConsole()" style="background: none; border: none; color: #888; font-size: 28px;">&times;</button>
            </div>
        </div>
        <div class="modal-content" style="padding: 0;">
            <div id="consoleOutput" class="console-output">Server offline. Press START to boot.</div>
            <div class="console-input-wrapper">
                <span style="color: #007749; font-family: monospace; font-size: 16px;">></span>
                <input type="text" id="consoleInput" class="console-input" placeholder="Enter command..." disabled onkeydown="if(event.key==='Enter') app.sendCommand(this.value)">
            </div>
        </div>
    </div>

    <!-- Success Popup -->
    <div id="successPopup" class="success-popup">
        <div class="success-icon">üéâ</div>
        <h3 class="success-title">CRAFTED!</h3>
        <p class="success-text" id="successText">You made a Wooden Pickaxe!</p>
        <button class="success-btn" onclick="app.closeSuccess()">AWESOME!</button>
    </div>

    <!-- Info Popup -->
    <div id="infoPopup" class="info-popup" onclick="if(event.target === this) app.closeInfoPopup()">
        <div class="info-popup-content" onclick="event.stopPropagation()">
            <button class="info-popup-close" onclick="app.closeInfoPopup()">&times;</button>
            <div class="info-popup-icon" id="infoIcon">ü¶Å</div>
            <h3 class="info-popup-title" id="infoTitle">Lion</h3>
            <p class="info-popup-subtitle" id="infoSubtitle">Kruger National Park</p>
            
            <div class="info-popup-section">
                <p class="info-popup-section-title">Description</p>
                <p class="info-popup-section-content" id="infoDescription">The king of the jungle</p>
            </div>
            
            <div class="info-popup-section">
                <p class="info-popup-section-title">Details</p>
                <p class="info-popup-section-content" id="infoDetails">Best time: Dawn/Dusk<br>Diet: Carnivore</p>
            </div>
            
            <div class="info-popup-tags" id="infoTags">
                <span class="info-popup-tag">Big Five</span>
            </div>
        </div>
    </div>

    <script>
        const icons = {
            wood: `<svg viewBox="0 0 32 32" style="width: 28px; height: 28px;"><rect x="2" y="2" width="28" height="28" fill="#8B4513"/><rect x="4" y="4" width="24" height="8" fill="#A0522D"/><rect x="4" y="14" width="24" height="6" fill="#8B4513"/></svg>`,
            stone: `<svg viewBox="0 0 32 32" style="width: 28px; height: 28px;"><rect x="2" y="2" width="28" height="28" fill="#808080"/><rect x="4" y="4" width="10" height="10" fill="#696969"/><rect x="16" y="4" width="12" height="8" fill="#A9A9A9"/></svg>`,
            iron: `<svg viewBox="0 0 32 32" style="width: 28px; height: 28px;"><rect x="4" y="4" width="24" height="24" fill="#C0C0C0" rx="2"/><rect x="6" y="6" width="20" height="20" fill="#D3D3D3" rx="1"/></svg>`,
            diamond: `<svg viewBox="0 0 32 32" style="width: 28px; height: 28px;"><polygon points="16,2 30,16 16,30 2,16" fill="#00CED1"/></svg>`,
            gold: `<svg viewBox="0 0 32 32" style="width: 28px; height: 28px;"><rect x="4" y="4" width="24" height="24" fill="#FFD700" rx="2"/></svg>`,
            coal: `<svg viewBox="0 0 32 32" style="width: 28px; height: 28px;"><rect x="4" y="4" width="24" height="24" fill="#2F4F4F" rx="3"/></svg>`,
            stick: `<svg viewBox="0 0 32 32" style="width: 28px; height: 28px;"><rect x="14" y="2" width="4" height="28" fill="#8B4513" rx="1"/></svg>`,
            planks: `<svg viewBox="0 0 32 32" style="width: 28px; height: 28px;"><rect x="2" y="2" width="28" height="28" fill="#DEB887"/><rect x="4" y="4" width="24" height="6" fill="#CD853F"/></svg>`,
            crafting_table: `<svg viewBox="0 0 32 32" style="width: 28px; height: 28px;"><rect x="2" y="2" width="28" height="28" fill="#8B4513"/><rect x="4" y="4" width="10" height="10" fill="#DEB887"/><rect x="18" y="4" width="10" height="10" fill="#DEB887"/><rect x="4" y="18" width="10" height="10" fill="#DEB887"/><rect x="18" y="18" width="10" height="10" fill="#DEB887"/></svg>`,
            chest: `<svg viewBox="0 0 32 32" style="width: 28px; height: 28px;"><rect x="2" y="8" width="28" height="20" fill="#8B4513" rx="2"/><rect x="2" y="8" width="28" height="12" fill="#A0522D" rx="2"/><rect x="14" y="14" width="4" height="4" fill="#FFD700"/></svg>`,
            furnace: `<svg viewBox="0 0 32 32" style="width: 28px; height: 28px;"><rect x="2" y="2" width="28" height="28" fill="#696969"/><rect x="6" y="6" width="20" height="20" fill="#808080"/><rect x="12" y="18" width="8" height="6" fill="#FF4500"/></svg>`,
            torch: `<svg viewBox="0 0 32 32" style="width: 28px; height: 28px;"><rect x="14" y="12" width="4" height="16" fill="#8B4513"/><circle cx="16" cy="8" r="7" fill="#FFD700"/></svg>`,
            dirt: `<svg viewBox="0 0 32 32" style="width: 28px; height: 28px;"><rect x="2" y="2" width="28" height="28" fill="#8B4513"/><circle cx="8" cy="8" r="3" fill="#654321"/><circle cx="24" cy="20" r="4" fill="#654321"/></svg>`,
            sand: `<svg viewBox="0 0 32 32" style="width: 28px; height: 28px;"><rect x="2" y="2" width="28" height="28" fill="#F4A460"/><circle cx="10" cy="10" r="2" fill="#DEB887"/><circle cx="22" cy="18" r="3" fill="#DEB887"/></svg>`,
            glass: `<svg viewBox="0 0 32 32" style="width: 28px; height: 28px;"><rect x="4" y="4" width="24" height="24" fill="#ADD8E6" opacity="0.6"/><rect x="6" y="6" width="20" height="20" fill="#87CEEB" opacity="0.4"/></svg>`,
            wool: `<svg viewBox="0 0 32 32" style="width: 28px; height: 28px;"><rect x="2" y="2" width="28" height="28" fill="#F5F5F5" rx="4"/><circle cx="10" cy="10" r="3" fill="#E0E0E0"/><circle cx="22" cy="20" r="4" fill="#E0E0E0"/></svg>`,
            redstone: `<svg viewBox="0 0 32 32" style="width: 28px; height: 28px;"><rect x="4" y="4" width="24" height="24" fill="#8B0000" rx="2"/><circle cx="16" cy="16" r="8" fill="#FF0000"/></svg>`,
            lapis: `<svg viewBox="0 0 32 32" style="width: 28px; height: 28px;"><rect x="2" y="2" width="28" height="28" fill="#000080"/><rect x="6" y="6" width="8" height="8" fill="#4169E1"/><rect x="18" y="18" width="8" height="8" fill="#4169E1"/></svg>`,
            emerald: `<svg viewBox="0 0 32 32" style="width: 28px; height: 28px;"><polygon points="16,2 30,16 16,30 2,16" fill="#50C878"/></svg>`
        };

        const app = {
            currentView: 'home',
            selectedItem: null,
            craftingGrid: [['', '', ''], ['', '', ''], ['', '', '']],
            currentRecipe: null,
            currentServer: null,
            
            cities: [
                { name: 'Johannesburg', x: 52, y: 48, province: 'Gauteng', population: '5.6M', established: '1886', knownAs: 'City of Gold', altitude: '1,753m' },
                { name: 'Cape Town', x: 18, y: 88, province: 'Western Cape', population: '4.6M', established: '1652', knownAs: 'Mother City', altitude: 'Sea level' },
                { name: 'Durban', x: 72, y: 68, province: 'KwaZulu-Natal', population: '3.9M', established: '1824', knownAs: 'Surf City', altitude: 'Sea level' },
                { name: 'Pretoria', x: 55, y: 42, province: 'Gauteng', population: '2.4M', established: '1855', knownAs: 'Jacaranda City', altitude: '1,339m' },
                { name: 'Port Elizabeth', x: 68, y: 82, province: 'Eastern Cape', population: '1.2M', established: '1820', knownAs: 'The Bay', altitude: 'Sea level' },
                { name: 'Bloemfontein', x: 45, y: 62, province: 'Free State', population: '560K', established: '1846', knownAs: 'City of Roses', altitude: '1,395m' },
                { name: 'Kimberley', x: 35, y: 52, province: 'Northern Cape', population: '250K', established: '1871', knownAs: 'Diamond City', altitude: '1,224m' },
                { name: 'Polokwane', x: 58, y: 28, province: 'Limpopo', population: '630K', established: '1886', knownAs: 'Place of Safety', altitude: '1,310m' },
                { name: 'Nelspruit', x: 65, y: 48, province: 'Mpumalanga', population: '110K', established: '1905', knownAs: 'Gateway to Kruger', altitude: '660m' },
                { name: 'Rustenburg', x: 48, y: 44, province: 'North West', population: '550K', established: '1851', knownAs: 'Platinum City', altitude: '1,170m' },
                { name: 'East London', x: 75, y: 78, province: 'Eastern Cape', population: '480K', established: '1836', knownAs: 'Buffalo City', altitude: 'Sea level' },
                { name: 'Pietermaritzburg', x: 68, y: 72, province: 'KwaZulu-Natal', population: '750K', established: '1838', knownAs: 'Maritzburg', altitude: '596m' },
                { name: 'Upington', x: 28, y: 35, province: 'Northern Cape', population: '150K', established: '1873', knownAs: 'Orange River Town', altitude: '835m' },
                { name: 'George', x: 32, y: 92, province: 'Western Cape', population: '200K', established: '1811', knownAs: 'The Garden Route', altitude: '226m' },
                { name: 'Mthatha', x: 82, y: 72, province: 'Eastern Cape', population: '140K', established: '1876', knownAs: 'Birthplace of Mandela', altitude: '694m' }
            ],

            parks: [
                { name: 'Kruger National Park', province: 'Limpopo & Mpumalanga', animals: ['Lion', 'Leopard', 'Elephant', 'Rhino', 'Buffalo'], description: 'Famous Big Five reserve! 19,623 km¬≤ of wild bush. One of Africa\'s largest game reserves.', size: '19,623 km¬≤', color: '#007749', x: 68, y: 38, established: '1926', bestTime: 'May to September', accommodation: '12 rest camps' },
                { name: 'Addo Elephant Park', province: 'Eastern Cape', animals: ['Elephant', 'Buffalo', 'Lion', 'Penguin'], description: 'Home to over 600 elephants! Also has the Big Seven including whales and sharks.', size: '1,640 km¬≤', color: '#FFB612', x: 78, y: 78, established: '1931', bestTime: 'All year', accommodation: 'Main camp & lodges' },
                { name: 'Kgalagadi Park', province: 'Northern Cape', animals: ['Springbok', 'Meerkat', 'Lion', 'Cheetah'], description: 'Red sand dunes and desert animals. Famous for black-maned lions.', size: '38,000 km¬≤', color: '#DE3831', x: 25, y: 28, established: '1931', bestTime: 'March to May', accommodation: 'Wilderness camps' },
                { name: 'Table Mountain NP', province: 'Western Cape', animals: ['Penguin', 'Dassie', 'Baboon', 'Eland'], description: 'Famous flat-top mountain with African penguins at Boulders Beach.', size: '221 km¬≤', color: '#002395', x: 18, y: 85, established: '1998', bestTime: 'October to March', accommodation: 'No camping' },
                { name: 'Hluhluwe-iMfolozi', province: 'KwaZulu-Natal', animals: ['Big Five', 'Wild Dog', 'Cheetah'], description: 'Oldest proclaimed park in Africa! Saved the white rhino from extinction.', size: '960 km¬≤', color: '#FF6B35', x: 75, y: 65, established: '1895', bestTime: 'June to October', accommodation: 'Hilltop camp' },
                { name: 'Pilanesberg NP', province: 'North West', animals: ['Big Five', 'Hyena', 'Sable'], description: 'Ancient volcanic crater near Sun City. Malaria-free Big Five viewing.', size: '572 km¬≤', color: '#8B4513', x: 48, y: 42, established: '1979', bestTime: 'May to September', accommodation: 'Bakgatla camp' },
                { name: 'Karoo National Park', province: 'Western Cape', animals: ['Springbok', 'Kudu', 'Lion', 'Eagle'], description: 'Vast semi-desert landscape. Fossil trail and scenic drives.', size: '750 km¬≤', color: '#D2691E', x: 32, y: 65, established: '1979', bestTime: 'April to September', accommodation: 'Rest camp' },
                { name: 'Golden Gate Park', province: 'Free State', animals: ['Zebra', 'Wildebeest', 'Eland'], description: 'Stunning sandstone cliffs. Famous for vulture breeding program.', size: '340 km¬≤', color: '#FFD700', x: 52, y: 55, established: '1963', bestTime: 'March to May', accommodation: 'Glen Reenen camp' },
                { name: 'Mapungubwe NP', province: 'Limpopo', animals: ['Elephant', 'Giraffe', 'Rhino'], description: 'Ancient civilization site. UNESCO World Heritage Site with baobab trees.', size: '280 km¬≤', color: '#CD853F', x: 60, y: 22, established: '1995', bestTime: 'April to September', accommodation: 'Tented camp' },
                { name: 'Marakele NP', province: 'Limpopo', animals: ['Rhino', 'Elephant', 'Cheetah'], description: 'Mountain sanctuary with rare cycads. Home to endangered Cape vultures.', size: '670 km¬≤', color: '#228B22', x: 52, y: 35, established: '1994', bestTime: 'May to September', accommodation: 'Tlopi camp' },
                { name: 'Cape Agulhas NP', province: 'Western Cape', animals: ['Whale', 'Penguin', 'Oystercatcher'], description: 'Southernmost tip of Africa where oceans meet. Historic lighthouse.', size: '210 km¬≤', color: '#4169E1', x: 28, y: 95, established: '1999', bestTime: 'June to November', accommodation: 'Agulhas rest camp' },
                { name: 'Bontebok NP', province: 'Western Cape', animals: ['Bontebok', 'Cape Mountain Zebra'], description: 'Saved the bontebok from extinction. Smallest national park but beautiful.', size: '28 km¬≤', color: '#DC143C', x: 24, y: 90, established: '1931', bestTime: 'September to March', accommodation: 'Lang Elsie camp' }
            ],

            animals: [
                { name: 'Lion', emoji: 'ü¶Å', scientific: 'Panthera leo', x: 65, y: 35, region: 'Kruger National Park', camp: 'Satara', bestTime: 'Dawn/Dusk', diet: 'Carnivore', threat: 'Vulnerable', population: '2,000 in Kruger', lifespan: '10-14 years', weight: '150-250kg' },
                { name: 'Elephant', emoji: 'üêò', scientific: 'Loxodonta africana', x: 70, y: 40, region: 'Kruger National Park', camp: 'Letaba', bestTime: 'Early morning', diet: 'Herbivore', threat: 'Endangered', population: '17,000 in Kruger', lifespan: '60-70 years', weight: '6,000kg' },
                { name: 'Springbok', emoji: 'ü¶å', scientific: 'Antidorcas marsupialis', x: 25, y: 25, region: 'Kgalagadi Park', camp: 'Twee Rivieren', bestTime: 'All day', diet: 'Herbivore', threat: 'Least Concern', population: '2.5 million', lifespan: '7-10 years', weight: '30-50kg' },
                { name: 'African Penguin', emoji: 'üêß', scientific: 'Spheniscus demersus', x: 20, y: 85, region: 'Table Mountain NP', camp: 'Boulders Beach', bestTime: 'Morning', diet: 'Fish', threat: 'Endangered', population: '10,000 pairs', lifespan: '10-15 years', weight: '3kg' },
                { name: 'Meerkat', emoji: 'ü¶¶', scientific: 'Suricata suricatta', x: 30, y: 30, region: 'Kgalagadi Park', camp: 'Mata-Mata', bestTime: 'Early morning', diet: 'Insects', threat: 'Least Concern', population: 'Stable', lifespan: '12-14 years', weight: '0.7kg' },
                { name: 'White Rhino', emoji: 'ü¶è', scientific: 'Ceratotherium simum', x: 60, y: 45, region: 'Kruger National Park', camp: 'Pretoriuskop', bestTime: 'Early morning', diet: 'Herbivore', threat: 'Near Threatened', population: '18,000 in SA', lifespan: '40-50 years', weight: '2,300kg' },
                { name: 'Black Rhino', emoji: 'ü¶è', scientific: 'Diceros bicornis', x: 75, y: 75, region: 'Addo Elephant Park', camp: 'Main Camp', bestTime: 'Dusk', diet: 'Herbivore', threat: 'Critically Endangered', population: '2,000 in SA', lifespan: '35-50 years', weight: '1,400kg' },
                { name: 'Cheetah', emoji: 'üêÜ', scientific: 'Acinonyx jubatus', x: 45, y: 55, region: 'Hluhluwe-iMfolozi', camp: 'Mpila', bestTime: 'Early morning', diet: 'Carnivore', threat: 'Vulnerable', population: '1,200 in SA', lifespan: '10-12 years', weight: '50kg' },
                { name: 'Leopard', emoji: 'üêÜ', scientific: 'Panthera pardus', x: 68, y: 32, region: 'Kruger National Park', camp: 'Skukuza', bestTime: 'Night', diet: 'Carnivore', threat: 'Vulnerable', population: '1,000 in Kruger', lifespan: '12-17 years', weight: '60kg' },
                { name: 'Buffalo', emoji: 'üêÉ', scientific: 'Syncerus caffer', x: 72, y: 42, region: 'Kruger National Park', camp: 'Lower Sabie', bestTime: 'Early morning', diet: 'Herbivore', threat: 'Near Threatened', population: '37,000 in Kruger', lifespan: '15-25 years', weight: '900kg' },
                { name: 'Giraffe', emoji: 'ü¶í', scientific: 'Giraffa camelopardalis', x: 62, y: 25, region: 'Mapungubwe NP', camp: 'Leokwe', bestTime: 'All day', diet: 'Herbivore', threat: 'Vulnerable', population: '10,000 in SA', lifespan: '20-25 years', weight: '1,300kg' },
                { name: 'Zebra', emoji: 'ü¶ì', scientific: 'Equus quagga', x: 50, y: 55, region: 'Golden Gate Park', camp: 'Glen Reenen', bestTime: 'All day', diet: 'Herbivore', threat: 'Least Concern', population: '300,000', lifespan: '25-30 years', weight: '350kg' },
                { name: 'Hippo', emoji: 'ü¶õ', scientific: 'Hippopotamus amphibius', x: 70, y: 62, region: 'Hluhluwe-iMfolozi', camp: 'Hilltop', bestTime: 'Night', diet: 'Herbivore', threat: 'Vulnerable', population: '1,500 in park', lifespan: '40-50 years', weight: '3,000kg' },
                { name: 'Wild Dog', emoji: 'üêï', scientific: 'Lycaon pictus', x: 48, y: 48, region: 'Pilanesberg NP', camp: 'Bakgatla', bestTime: 'Dawn/Dusk', diet: 'Carnivore', threat: 'Endangered', population: '400 in SA', lifespan: '10-11 years', weight: '25kg' },
                { name: 'Whale', emoji: 'üêã', scientific: 'Eubalaena australis', x: 22, y: 92, region: 'Cape Agulhas NP', camp: 'Agulhas', bestTime: 'Morning', diet: 'Krill', threat: 'Least Concern', population: '3,000 off SA coast', lifespan: '50-70 years', weight: '60,000kg' }
            ],

            provinces: [
                { name: 'Gauteng', code: 'GP', capital: 'Johannesburg', population: '15.5M', area: '18,178 km¬≤', knownFor: 'Gold, Urban life, Apartheid history' },
                { name: 'Western Cape', code: 'WC', capital: 'Cape Town', population: '7.0M', area: '129,462 km¬≤', knownFor: 'Wine, Mountains, Beaches' },
                { name: 'KwaZulu-Natal', code: 'KZN', capital: 'Pietermaritzburg', population: '11.5M', area: '94,361 km¬≤', knownFor: 'Zulu culture, Beaches, Battlefields' },
                { name: 'Eastern Cape', code: 'EC', capital: 'Bhisho', population: '6.5M', area: '168,966 km¬≤', knownFor: 'Nelson Mandela, Surfing, Wild Coast' },
                { name: 'Free State', code: 'FS', capital: 'Bloemfontein', population: '2.9M', area: '129,825 km¬≤', knownFor: 'Golden Gate, Agriculture, Diamonds' },
                { name: 'Limpopo', code: 'LP', capital: 'Polokwane', population: '5.8M', area: '125,754 km¬≤', knownFor: 'Kruger Park, Baobabs, Venda art' },
                { name: 'Mpumalanga', code: 'MP', capital: 'Nelspruit', population: '4.7M', area: '76,495 km¬≤', knownFor: 'Blyde Canyon, Kruger, Panorama Route' },
                { name: 'Northern Cape', code: 'NC', capital: 'Kimberley', population: '1.3M', area: '372,889 km¬≤', knownFor: 'Diamonds, Desert, Flowers' },
                { name: 'North West', code: 'NW', capital: 'Mahikeng', population: '4.0M', area: '104,882 km¬≤', knownFor: 'Sun City, Platinum, Pilanesberg' }
            ],

            weather: [
                { city: 'Johannesburg', temp: 22, condition: '‚òÄÔ∏è', humidity: '45%', wind: '12km/h' },
                { city: 'Cape Town', temp: 18, condition: 'üå§Ô∏è', humidity: '65%', wind: '25km/h' },
                { city: 'Durban', temp: 26, condition: '‚õÖ', humidity: '78%', wind: '18km/h' }
            ],

            inventory: [
                { id: 'planks', name: 'Oak Planks', icon: 'planks' },
                { id: 'stick', name: 'Stick', icon: 'stick' },
                { id: 'wood', name: 'Oak Wood', icon: 'wood' },
                { id: 'stone', name: 'Cobblestone', icon: 'stone' },
                { id: 'iron', name: 'Iron Ingot', icon: 'iron' },
                { id: 'diamond', name: 'Diamond', icon: 'diamond' },
                { id: 'gold', name: 'Gold Ingot', icon: 'gold' },
                { id: 'coal', name: 'Coal', icon: 'coal' },
                { id: 'dirt', name: 'Dirt', icon: 'dirt' },
                { id: 'sand', name: 'Sand', icon: 'sand' },
                { id: 'glass', name: 'Glass', icon: 'glass' },
                { id: 'wool', name: 'Wool', icon: 'wool' },
                { id: 'redstone', name: 'Redstone', icon: 'redstone' },
                { id: 'lapis', name: 'Lapis Lazuli', icon: 'lapis' },
                { id: 'emerald', name: 'Emerald', icon: 'emerald' },
                { id: 'crafting_table', name: 'Crafting Table', icon: 'crafting_table' }
            ],

            recipes: {
                pickaxe_wood: {
                    pattern: [['planks', 'planks', 'planks'], [null, 'stick', null], [null, 'stick', null]],
                    result: '‚õèÔ∏è', name: 'Wooden Pickaxe', desc: 'Basic mining tool', ingredients: ['3 Oak Planks', '2 Sticks']
                },
                pickaxe_stone: {
                    pattern: [['stone', 'stone', 'stone'], [null, 'stick', null], [null, 'stick', null]],
                    result: '‚õèÔ∏è', name: 'Stone Pickaxe', desc: 'Better than wood', ingredients: ['3 Cobblestone', '2 Sticks']
                },
                pickaxe_iron: {
                    pattern: [['iron', 'iron', 'iron'], [null, 'stick', null], [null, 'stick', null]],
                    result: '‚õèÔ∏è', name: 'Iron Pickaxe', desc: 'Strong tool', ingredients: ['3 Iron Ingots', '2 Sticks']
                },
                pickaxe_diamond: {
                    pattern: [['diamond', 'diamond', 'diamond'], [null, 'stick', null], [null, 'stick', null]],
                    result: '‚õèÔ∏è', name: 'Diamond Pickaxe', desc: 'Ultimate mining tool', ingredients: ['3 Diamonds', '2 Sticks']
                },
                sword_wood: {
                    pattern: [[null, 'planks', null], [null, 'planks', null], [null, 'stick', null]],
                    result: 'üó°Ô∏è', name: 'Wooden Sword', desc: 'Basic weapon', ingredients: ['2 Oak Planks', '1 Stick']
                },
                sword_stone: {
                    pattern: [[null, 'stone', null], [null, 'stone', null], [null, 'stick', null]],
                    result: 'üó°Ô∏è', name: 'Stone Sword', desc: 'Better damage', ingredients: ['2 Cobblestone', '1 Stick']
                },
                sword_iron: {
                    pattern: [[null, 'iron', null], [null, 'iron', null], [null, 'stick', null]],
                    result: 'üó°Ô∏è', name: 'Iron Sword', desc: 'Strong weapon', ingredients: ['2 Iron Ingots', '1 Stick']
                },
                sword_diamond: {
                    pattern: [[null, 'diamond', null], [null, 'diamond', null], [null, 'stick', null]],
                    result: 'üó°Ô∏è', name: 'Diamond Sword', desc: 'Ultimate weapon', ingredients: ['2 Diamonds', '1 Stick']
                },
                axe_wood: {
                    pattern: [['planks', 'planks', null], ['planks', 'stick', null], [null, 'stick', null]],
                    result: 'ü™ì', name: 'Wooden Axe', desc: 'Chop trees faster', ingredients: ['3 Oak Planks', '2 Sticks']
                },
                axe_stone: {
                    pattern: [['stone', 'stone', null], ['stone', 'stick', null], [null, 'stick', null]],
                    result: 'ü™ì', name: 'Stone Axe', desc: 'Better than wood', ingredients: ['3 Cobblestone', '2 Sticks']
                },
                axe_iron: {
                    pattern: [['iron', 'iron', null], ['iron', 'stick', null], [null, 'stick', null]],
                    result: 'ü™ì', name: 'Iron Axe', desc: 'Fast chopping', ingredients: ['3 Iron Ingots', '2 Sticks']
                },
                axe_diamond: {
                    pattern: [['diamond', 'diamond', null], ['diamond', 'stick', null], [null, 'stick', null]],
                    result: 'ü™ì', name: 'Diamond Axe', desc: 'Ultimate chopper', ingredients: ['3 Diamonds', '2 Sticks']
                },
                shovel_wood: {
                    pattern: [[null, 'planks', null], [null, 'stick', null], [null, 'stick', null]],
                    result: 'üî®', name: 'Wooden Shovel', desc: 'Dig faster', ingredients: ['1 Oak Plank', '2 Sticks']
                },
                shovel_stone: {
                    pattern: [[null, 'stone', null], [null, 'stick', null], [null, 'stick', null]],
                    result: 'üî®', name: 'Stone Shovel', desc: 'Better digging', ingredients: ['1 Cobblestone', '2 Sticks']
                },
                crafting_table: {
                    pattern: [['planks', 'planks', null], ['planks', 'planks', null], [null, null, null]],
                    result: 'üì¶', name: 'Crafting Table', desc: '3x3 crafting grid', ingredients: ['4 Oak Planks']
                },
                chest: {
                    pattern: [['planks', 'planks', 'planks'], ['planks', null, 'planks'], ['planks', 'planks', 'planks']],
                    result: 'üì¶', name: 'Chest', desc: 'Storage container', ingredients: ['8 Oak Planks']
                },
                furnace: {
                    pattern: [['stone', 'stone', 'stone'], ['stone', null, 'stone'], ['stone', 'stone', 'stone']],
                    result: 'üî•', name: 'Furnace', desc: 'Smelt ores and cook food', ingredients: ['8 Cobblestone']
                },
                torch: {
                    pattern: [[null, 'coal', null], [null, 'stick', null], [null, null, null]],
                    result: 'üî¶', name: 'Torch', desc: 'Light up dark areas', ingredients: ['1 Coal', '1 Stick']
                }
            },

            servers: [
                { id: '1', name: 'ü¶Å KrugerCraft SA', type: 'spigot', mode: 'Game Drive Survival', players: 1247, max: 5000, status: 'Online', ip: 'kruger.rsacraft.co.za', region: 'jhb', logs: [] },
                { id: '2', name: '‚õ∞Ô∏è Table Mountain SMP', type: 'paper', mode: 'Survival', players: 89, max: 200, status: 'Online', ip: 'tablemtn.rsacraft.co.za', region: 'cpt', logs: [] },
                { id: '3', name: 'üêê Springbok Creative', type: 'vanilla', mode: 'Creative', players: 34, max: 100, status: 'Online', ip: 'springbok.rsacraft.co.za', region: 'cpt', logs: [] },
                { id: '4', name: 'üåä Durban Diving', type: 'spigot', mode: 'Adventure', players: 12, max: 50, status: 'Online', ip: 'durban.rsacraft.co.za', region: 'dur', logs: [] },
                { id: '5', name: 'ü¶è Pilanesberg PvP', type: 'paper', mode: 'PvP Arena', players: 156, max: 500, status: 'Online', ip: 'pilanesberg.rsacraft.co.za', region: 'jhb', logs: [] },
                { id: '6', name: 'üêß Cape Town Minigames', type: 'spigot', mode: 'Minigames', players: 423, max: 1000, status: 'Online', ip: 'games.rsacraft.co.za', region: 'cpt', logs: [] },
                { id: '7', name: 'ü¶í Joburg Skyblock', type: 'paper', mode: 'Skyblock', players: 67, max: 150, status: 'Online', ip: 'skyblock.rsacraft.co.za', region: 'jhb', logs: [] }
            ],

            init() {
                this.servers.forEach(server => {
                    server.logs = this.generateExistingServerLogs(server);
                });
                this.navigate('home');
            },

            generateExistingServerLogs(server) {
                const logs = [];
                const now = new Date();
                const timeStr = `[${String(now.getHours()).padStart(2,'0')}:${String(now.getMinutes()).padStart(2,'0')}:${String(now.getSeconds()).padStart(2,'0')}]`;
                
                logs.push(`${timeStr} [INFO] Starting minecraft server version 1.20.1`);
                logs.push(`${timeStr} [INFO] Loading properties`);
                logs.push(`${timeStr} [INFO] This server is running ${server.type} version git-${server.type}-1.20.1-100`);
                logs.push(`${timeStr} [INFO] Server Ping Player Sample Count: 12`);
                logs.push(`${timeStr} [INFO] Using 4 threads for Netty based IO`);
                logs.push(`${timeStr} [INFO] Default game type: ${server.mode.toUpperCase()}`);
                logs.push(`${timeStr} [INFO] Generating keypair`);
                logs.push(`${timeStr} [INFO] Starting Minecraft server on *:25565`);
                logs.push(`${timeStr} [INFO] Using epoll channel type`);
                logs.push(`${timeStr} [INFO] Paper: Using libdeflate (Linux x86_64) compression from Velocity.`);
                logs.push(`${timeStr} [INFO] Paper: Using OpenSSL 3.0.x (Linux x86_64) cipher from Velocity.`);
                
                const playerNames = ['SpringbokHunter', 'CapeTownCrafter', 'KrugerExplorer', 'JoburgMiner', 'DurbanDiver', 'LionTamer', 'BiltongMaster'];
                const randomPlayers = playerNames.sort(() => 0.5 - Math.random()).slice(0, Math.floor(Math.random() * 4) + 2);
                
                randomPlayers.forEach((player, idx) => {
                    logs.push(`${timeStr} [INFO] UUID of player ${player} is ${this.generateUUID()}`);
                    logs.push(`${timeStr} [INFO] ${player}[/${this.generateIP()}:5432${idx}] logged in with entity id ${1000 + idx} at ([world]${Math.floor(Math.random()*1000)}, 64, ${Math.floor(Math.random()*1000)})`);
                });
                
                logs.push(`${timeStr} [INFO] Done (${(Math.random()*20 + 10).toFixed(3)}s)! For help, type "help"`);
                logs.push(`${timeStr} [INFO] Listening on /0.0.0.0:25565`);
                logs.push(`${timeStr} [INFO] Timings Reset`);
                
                for (let i = 0; i < 5; i++) {
                    const pastTime = new Date(now - i * 60000);
                    const pastStr = `[${String(pastTime.getHours()).padStart(2,'0')}:${String(pastTime.getMinutes()).padStart(2,'0')}:${String(pastTime.getSeconds()).padStart(2,'0')}]`;
                    if (Math.random() > 0.5) {
                        const player = playerNames[Math.floor(Math.random() * playerNames.length)];
                        logs.push(`${pastStr} [INFO] ${player} issued server command: /${['help', 'spawn', 'home', 'balance', 'msg'][Math.floor(Math.random()*5)]}`);
                    }
                }
                
                return logs;
            },

            generateUUID() {
                return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                    const r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
                    return v.toString(16);
                });
            },

            generateIP() {
                return `192.168.${Math.floor(Math.random()*255)}.${Math.floor(Math.random()*255)}`;
            },

            navigate(view) {
                this.currentView = view;
                document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
                document.querySelector(`[data-nav="${view}"]`)?.classList.add('active');
                
                const appEl = document.getElementById('app');
                
                switch(view) {
                    case 'home':
                        appEl.innerHTML = this.renderHome();
                        this.initCrafting();
                        break;
                    case 'servers':
                        appEl.innerHTML = this.renderServers();
                        break;
                    case 'map':
                        appEl.innerHTML = this.renderMap();
                        break;
                    case 'recipes':
                        appEl.innerHTML = this.renderRecipes();
                        break;
                }
                
                window.scrollTo(0, 0);
            },

            renderHome() {
                return `
                    <div class="crafting-wrapper">
                        <button class="clear-btn" onclick="app.clearGrid()">üóëÔ∏è</button>
                        
                        <div class="crafting-header">
                            <h2 class="font-minecraft">‚öíÔ∏è CRAFT YOUR TOOLS ‚öíÔ∏è</h2>
                            <p>Select items, tap grid to place</p>
                        </div>

                        <div class="crafting-area">
                            <div class="grid-section">
                                <div class="crafting-grid-container">
                                    <div class="crafting-grid" id="craftingGrid">
                                        ${[0,1,2,3,4,5,6,7,8].map(i => `
                                            <div class="crafting-slot" data-slot="${i}" onclick="app.handleSlotClick(${i})"></div>
                                        `).join('')}
                                    </div>
                                </div>
                                <div class="crafting-arrow"></div>
                                <div class="result-box" id="resultBox"></div>
                            </div>

                            <div class="inventory-section">
                                <div class="inventory-title">INVENTORY</div>
                                <div class="inventory-grid">
                                    ${this.inventory.map(item => `
                                        <div class="inventory-slot" data-item="${item.id}" onclick="app.selectItem('${item.id}')" title="${item.name}">
                                            ${icons[item.icon]}
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>

                        <div class="hint-box">
                            <p class="hint-text" id="hintText">üëÜ Select an item from inventory, then tap grid slots to place it!</p>
                        </div>

                        <div class="recipes-section">
                            <h3 class="recipes-title">‚ö° QUICK RECIPES ‚ö°</h3>
                            <div class="recipes-grid">
                                ${Object.entries(this.recipes).slice(0, 6).map(([key, recipe]) => `
                                    <div class="recipe-card" id="recipe-${key}" onclick="app.loadRecipe('${key}')">
                                        <div class="recipe-icon">${recipe.result}</div>
                                        <p class="recipe-name">${recipe.name}</p>
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <button class="craft-button" id="craftBtn" onclick="app.craftItem()" disabled>
                            ‚ö° CRAFT ITEM ‚ö°
                        </button>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" style="color: #007749;">${this.servers.length}</div>
                            <div class="stat-label">Servers</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" style="color: #FFB612;">2.1k</div>
                            <div class="stat-label">Players</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" style="color: #DE3831;">8ms</div>
                            <div class="stat-label">Ping</div>
                        </div>
                    </div>

                    <div class="weather-widget">
                        <div class="weather-header">
                            <h3 class="weather-title">üå§Ô∏è LIVE WEATHER</h3>
                            <span class="weather-location">Major Cities</span>
                        </div>
                        <div class="weather-grid">
                            ${this.weather.map(w => `
                                <div class="weather-item">
                                    <div class="weather-emoji">${w.condition}</div>
                                    <div class="weather-temp">${w.temp}¬∞C</div>
                                    <div class="weather-label">${w.city}</div>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                            <h3 style="margin: 0; color: #FFB612; font-family: 'VT323', monospace; font-size: 22px;">FEATURED SERVERS</h3>
                            <button onclick="app.navigate('servers')" style="background: none; border: none; color: #007749; font-size: 14px; font-weight: 600;">View All ‚Üí</button>
                        </div>
                        ${this.servers.slice(0, 3).map(s => this.renderServerCard(s)).join('')}
                    </div>

                    <div class="crafting-wrapper">
                        <h3 style="margin: 0 0 16px 0; color: white; font-size: 18px;">üéØ EXPLORE SOUTH AFRICA</h3>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                            <button onclick="app.navigate('map')" style="background: #1a1a1a; border: 1px solid #333; border-radius: 16px; padding: 20px; text-align: left;">
                                <div style="font-size: 32px; margin-bottom: 12px;">üó∫Ô∏è</div>
                                <div style="color: white; font-weight: 700; font-size: 16px;">Interactive Map</div>
                                <div style="color: #666; font-size: 12px; margin-top: 4px;">15 Cities ‚Ä¢ 12 Parks</div>
                            </button>
                            <button onclick="app.navigate('recipes')" style="background: #1a1a1a; border: 1px solid #333; border-radius: 16px; padding: 20px; text-align: left;">
                                <div style="font-size: 32px; margin-bottom: 12px;">üìñ</div>
                                <div style="color: white; font-weight: 700; font-size: 16px;">Recipe Book</div>
                                <div style="color: #666; font-size: 12px; margin-top: 4px;">${Object.keys(this.recipes).length} Recipes</div>
                            </button>
                        </div>
                    </div>
                `;
            },

            renderServerCard(server) {
                const regionEmoji = server.region === 'jhb' ? 'ü¶Å' : server.region === 'cpt' ? '‚õ∞Ô∏è' : 'üåä';
                return `
                    <div class="server-card" onclick="app.openConsole('${server.id}')">
                        <div class="server-header">
                            <div class="server-icon">${regionEmoji}</div>
                            <div class="server-info">
                                <h3 class="server-name">${server.name}</h3>
                                <div class="server-meta">
                                    <div class="status-dot"></div>
                                    <span class="server-mode">${server.mode}</span>
                                </div>
                                <p class="server-ip">${server.ip}</p>
                            </div>
                        </div>
                        <div class="server-stats">
                            <span class="player-count">${server.players}/${server.max} players</span>
                            <button class="join-btn">MANAGE</button>
                        </div>
                    </div>
                `;
            },

            renderServers() {
                return `
                    <div style="padding-top: 16px;">
                        <h2 class="font-minecraft" style="font-size: 32px; margin: 0 0 20px 0;">ALL SERVERS</h2>
                        <p style="color: #888; margin: 0 0 20px 0; font-size: 15px;">${this.servers.length} servers online across South Africa</p>
                        ${this.servers.map(s => this.renderServerCard(s)).join('')}
                    </div>
                `;
            },

            renderMap() {
                return `
                    <div style="padding-top: 16px;">
                        <h2 class="font-minecraft text-center" style="font-size: 32px; margin: 0 0 12px 0; color: #FFB612;">üó∫Ô∏è SOUTH AFRICA</h2>
                        <p class="text-center" style="color: #888; font-size: 15px; margin: 0 0 20px 0;">15 Cities ‚Ä¢ 12 National Parks ‚Ä¢ 15 Animal Species</p>
                        
                        <div class="map-container">
                            <div class="map-wrapper">
                                <svg class="map-svg" viewBox="0 0 100 120">
                                    <defs>
                                        <filter id="glow">
                                            <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
                                            <feMerge>
                                                <feMergeNode in="coloredBlur"/>
                                                <feMergeNode in="SourceGraphic"/>
                                            </feMerge>
                                        </filter>
                                    </defs>
                                    
                                    <path d="M20,10 L80,10 L85,30 L90,50 L85,70 L80,90 L70,100 L60,110 L40,115 L30,110 L20,100 L15,80 L10,60 L15,40 L20,10 Z" 
                                          fill="#1a1a1a" stroke="#007749" stroke-width="2" filter="url(#glow)"/>
                                    
                                    ${this.parks.map(park => `
                                        <ellipse cx="${park.x}" cy="${park.y}" rx="${Math.sqrt(parseInt(park.size.replace(/,/g, '').split(' ')[0]))/2.5}" 
                                                 ry="${Math.sqrt(parseInt(park.size.replace(/,/g, '').split(' ')[0]))/3}" 
                                                 fill="${park.color}" opacity="0.25" stroke="${park.color}" stroke-width="1"/>
                                    `).join('')}
                                    
                                    <line x1="75" y1="115" x2="90" y2="115" stroke="#666" stroke-width="1"/>
                                    <text x="82.5" y="118" text-anchor="middle" fill="#666" font-size="2" font-family="VT323">300 km</text>
                                </svg>
                                
                                ${this.cities.map(city => `
                                    <div class="map-marker city" style="left: ${city.x}%; top: ${city.y}%;" onclick="app.showCityDetail('${city.name}')">
                                        ${city.name}
                                    </div>
                                `).join('')}
                                
                                ${this.animals.map((animal, idx) => `
                                    <div class="map-marker" style="left: ${animal.x}%; top: ${animal.y}%;" onclick="app.showAnimalDetail(${idx})" title="${animal.name}">
                                        ${animal.emoji}
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        
                        <div class="park-legend">
                            <h4 style="color: #FFB612; margin: 0 0 16px 0; font-size: 20px; font-family: 'VT323', monospace;">üèûÔ∏è NATIONAL PARKS</h4>
                            <div style="display: grid; gap: 16px;">
                                ${this.parks.map(park => `
                                    <div class="park-detail-card" style="border-left-color: ${park.color};" onclick="app.showParkDetail('${park.name}')">
                                        <div class="park-detail-header">
                                            <h3 class="park-detail-title">${park.name}</h3>
                                            <span class="park-detail-size">${park.size}</span>
                                        </div>
                                        <div class="park-detail-meta">
                                            <span class="park-detail-meta-item">üìç ${park.province}</span>
                                            <span class="park-detail-meta-item">üìÖ Est. ${park.established}</span>
                                            <span class="park-detail-meta-item">üèïÔ∏è ${park.accommodation}</span>
                                        </div>
                                        <p style="color: #aaa; font-size: 14px; margin: 0; line-height: 1.5;">${park.description}</p>
                                        <div class="park-animals">
                                            ${park.animals.map(animal => `<span class="park-animal-tag">${animal}</span>`).join('')}
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        
                        <div class="park-legend" style="margin-top: 20px;">
                            <h4 style="color: #007749; margin: 0 0 16px 0; font-size: 20px; font-family: 'VT323', monospace;">ü¶í WILDLIFE GUIDE</h4>
                            <div style="display: grid; gap: 16px;">
                                ${this.animals.map((animal, idx) => `
                                    <div class="animal-detail-card" style="border-left-color: ${animal.threat === 'Least Concern' ? '#22c55e' : animal.threat === 'Vulnerable' ? '#FFB612' : '#ef4444'};" onclick="app.showAnimalDetail(${idx})">
                                        <div class="animal-detail-header">
                                            <div class="animal-detail-emoji">${animal.emoji}</div>
                                            <div class="animal-detail-title">
                                                <h3>${animal.name}</h3>
                                                <div class="animal-detail-location">üìç ${animal.region}</div>
                                            </div>
                                        </div>
                                        <div class="animal-detail-meta">
                                            <span class="animal-detail-meta-item">‚öñÔ∏è ${animal.weight}</span>
                                            <span class="animal-detail-meta-item">‚è±Ô∏è ${animal.lifespan}</span>
                                            <span class="animal-detail-meta-item">üìä ${animal.population}</span>
                                        </div>
                                        <div class="animal-detail-tags">
                                            <span class="animal-detail-tag diet">üçΩÔ∏è ${animal.diet}</span>
                                            <span class="animal-detail-tag time">üïê ${animal.bestTime}</span>
                                            <span class="animal-detail-tag ${animal.threat === 'Least Concern' ? 'safe' : 'threat'}">‚ö†Ô∏è ${animal.threat}</span>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <div class="park-legend" style="margin-top: 20px;">
                            <h4 style="color: #DE3831; margin: 0 0 16px 0; font-size: 20px; font-family: 'VT323', monospace;">üèõÔ∏è PROVINCES</h4>
                            <div style="display: grid; gap: 12px;">
                                ${this.provinces.map(prov => `
                                    <div class="province-card" onclick="app.showProvinceDetail('${prov.name}')">
                                        <div class="province-header">
                                            <h3 class="province-name">${prov.name}</h3>
                                            <span class="province-code">${prov.code}</span>
                                        </div>
                                        <div class="province-stats">
                                            <span>üë• ${prov.population}</span>
                                            <span>üìè ${prov.area}</span>
                                            <span>‚≠ê ${prov.knownFor.split(',')[0]}</span>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                `;
            },

            renderRecipes() {
                const categories = {
                    'Tools': ['pickaxe_wood', 'pickaxe_stone', 'pickaxe_iron', 'pickaxe_diamond', 'axe_wood', 'axe_stone', 'axe_iron', 'axe_diamond', 'shovel_wood', 'shovel_stone'],
                    'Combat': ['sword_wood', 'sword_stone', 'sword_iron', 'sword_diamond'],
                    'Blocks': ['crafting_table', 'chest', 'furnace', 'torch']
                };

                return `
                    <div style="padding-top: 16px;">
                        <h2 class="font-minecraft text-center" style="font-size: 32px; margin: 0 0 12px 0; color: #FFB612;">üìñ RECIPE BOOK</h2>
                        <p class="text-center" style="color: #888; font-size: 15px; margin: 0 0 20px 0;">${Object.keys(this.recipes).length} crafting recipes available</p>
                        
                        ${Object.entries(categories).map(([category, recipeKeys]) => `
                            <div class="category-section">
                                <h3 class="category-title">
                                    ${category === 'Tools' ? '‚õèÔ∏è' : category === 'Combat' ? '‚öîÔ∏è' : 'üì¶'} ${category}
                                </h3>
                                <div style="display: grid; gap: 16px;">
                                    ${recipeKeys.map(key => {
                                        const recipe = this.recipes[key];
                                        if (!recipe) return '';
                                        return `
                                            <div class="recipe-detail-card">
                                                <div class="recipe-detail-header">
                                                    <div class="recipe-detail-icon">${recipe.result}</div>
                                                    <div class="recipe-detail-title">
                                                        <h3>${recipe.name}</h3>
                                                        <p>${recipe.desc}</p>
                                                    </div>
                                                </div>
                                                <div style="display: flex; justify-content: center; margin: 20px 0;">
                                                    <div class="recipe-pattern">
                                                        ${recipe.pattern.flat().map(slot => `
                                                            <div class="recipe-pattern-slot ${slot ? 'filled' : ''}">
                                                                ${slot ? icons[slot] || '‚Ä¢' : ''}
                                                            </div>
                                                        `).join('')}
                                                    </div>
                                                </div>
                                                <div class="recipe-ingredients">
                                                    ${recipe.ingredients.map(ing => `<span class="recipe-ingredient">${ing}</span>`).join('')}
                                                </div>
                                                <button onclick="app.loadRecipeFromBook('${key}')" style="width: 100%; margin-top: 16px; background: #007749; color: white; border: none; padding: 14px; border-radius: 12px; font-weight: 700; font-size: 15px; cursor: pointer;">
                                                    Load into Crafting Table
                                                </button>
                                            </div>
                                        `;
                                    }).join('')}
                                </div>
                            </div>
                        `).join('')}
                        
                        <div class="crafting-wrapper" style="margin-top: 20px;">
                            <h3 style="margin: 0 0 16px 0; color: #FFB612; font-size: 18px;">üí° CRAFTING TIPS</h3>
                            <div style="background: rgba(0,119,73,0.1); border-left: 4px solid #FFB612; padding: 16px; border-radius: 0 12px 12px 0; margin-bottom: 12px;">
                                <p style="color: #ccc; font-size: 14px; margin: 0;"><strong>Sticks:</strong> Place 2 planks vertically to make 4 sticks</p>
                            </div>
                            <div style="background: rgba(0,119,73,0.1); border-left: 4px solid #FFB612; padding: 16px; border-radius: 0 12px 12px 0; margin-bottom: 12px;">
                                <p style="color: #ccc; font-size: 14px; margin: 0;"><strong>Planks:</strong> Place 1 wood block to get 4 planks</p>
                            </div>
                            <div style="background: rgba(0,119,73,0.1); border-left: 4px solid #FFB612; padding: 16px; border-radius: 0 12px 12px 0;">
                                <p style="color: #ccc; font-size: 14px; margin: 0;"><strong>Tools:</strong> Higher tier materials last longer and work faster</p>
                            </div>
                        </div>
                    </div>
                `;
            },

            initCrafting() {
                this.craftingGrid = [['', '', ''], ['', '', ''], ['', '', '']];
                this.selectedItem = null;
                this.currentRecipe = null;
                this.updateGridDisplay();
                this.updateCraftButton();
            },

            selectItem(itemId) {
                if (this.selectedItem === itemId) {
                    this.selectedItem = null;
                } else {
                    this.selectedItem = itemId;
                }
                
                document.querySelectorAll('.inventory-slot').forEach(el => {
                    el.classList.toggle('selected', el.dataset.item === this.selectedItem);
                });
                
                this.updateHint(this.selectedItem ? 
                    `Placing: ${this.inventory.find(i => i.id === this.selectedItem)?.name}` : 
                    'Select an item from inventory');
            },

            handleSlotClick(slotIndex) {
                const row = Math.floor(slotIndex / 3);
                const col = slotIndex % 3;
                
                if (this.selectedItem) {
                    this.craftingGrid[row][col] = this.selectedItem;
                    this.updateGridDisplay();
                    this.checkRecipe();
                } else if (this.craftingGrid[row][col]) {
                    this.craftingGrid[row][col] = '';
                    this.updateGridDisplay();
                    this.checkRecipe();
                }
            },

            updateGridDisplay() {
                const slots = document.querySelectorAll('.crafting-slot');
                slots.forEach((slot, index) => {
                    const row = Math.floor(index / 3);
                    const col = index % 3;
                    const itemId = this.craftingGrid[row][col];
                    
                    if (itemId) {
                        const item = this.inventory.find(i => i.id === itemId);
                        slot.innerHTML = item ? icons[item.icon] : '';
                        slot.classList.add('filled');
                    } else {
                        slot.innerHTML = '';
                        slot.classList.remove('filled');
                    }
                });
            },

            checkRecipe() {
                let matchedRecipe = null;
                let matchedKey = null;
                
                for (const [key, recipe] of Object.entries(this.recipes)) {
                    if (this.matchesRecipe(recipe.pattern)) {
                        matchedRecipe = recipe;
                        matchedKey = key;
                        break;
                    }
                }
                
                this.currentRecipe = matchedRecipe;
                this.updateCraftButton();
                
                if (matchedRecipe) {
                    document.getElementById('resultBox').textContent = matchedRecipe.result;
                    document.getElementById('resultBox').classList.add('has-result');
                    this.updateHint(`‚ú® Ready to craft: ${matchedRecipe.name}`);
                    
                    document.querySelectorAll('.recipe-card').forEach(el => el.classList.remove('active'));
                    if (matchedKey) {
                        document.getElementById(`recipe-${matchedKey}`)?.classList.add('active');
                    }
                } else {
                    document.getElementById('resultBox').textContent = '';
                    document.getElementById('resultBox').classList.remove('has-result');
                }
            },

            matchesRecipe(pattern) {
                for (let row = 0; row < 3; row++) {
                    for (let col = 0; col < 3; col++) {
                        const expected = pattern[row][col];
                        const actual = this.craftingGrid[row][col];
                        
                        const expectedEmpty = !expected;
                        const actualEmpty = !actual;
                        
                        if (expectedEmpty && actualEmpty) continue;
                        if (expectedEmpty !== actualEmpty) return false;
                        if (expected !== actual) return false;
                    }
                }
                return true;
            },

            loadRecipe(recipeKey) {
                const recipe = this.recipes[recipeKey];
                if (!recipe) return;
                
                this.craftingGrid = recipe.pattern.map(row => 
                    row.map(cell => cell || '')
                );
                this.selectedItem = null;
                
                this.updateGridDisplay();
                this.checkRecipe();
                this.updateHint(`Loaded: ${recipe.name}`);
                
                document.querySelectorAll('.inventory-slot').forEach(el => el.classList.remove('selected'));
                document.querySelectorAll('.recipe-card').forEach(el => el.classList.remove('active'));
                document.getElementById(`recipe-${recipeKey}`)?.classList.add('active');
            },

            loadRecipeFromBook(recipeKey) {
                this.navigate('home');
                setTimeout(() => {
                    this.loadRecipe(recipeKey);
                }, 100);
            },

            clearGrid() {
                this.craftingGrid = [['', '', ''], ['', '', ''], ['', '', '']];
                this.selectedItem = null;
                this.currentRecipe = null;
                this.updateGridDisplay();
                this.updateCraftButton();
                this.updateHint('Grid cleared');
                
                document.querySelectorAll('.inventory-slot').forEach(el => el.classList.remove('selected'));
                document.querySelectorAll('.recipe-card').forEach(el => el.classList.remove('active'));
                document.getElementById('resultBox').textContent = '';
                document.getElementById('resultBox').classList.remove('has-result');
            },

            updateCraftButton() {
                const btn = document.getElementById('craftBtn');
                if (btn) {
                    if (this.currentRecipe) {
                        btn.disabled = false;
                        btn.classList.add('active');
                    } else {
                        btn.disabled = true;
                        btn.classList.remove('active');
                    }
                }
            },

            updateHint(text) {
                const el = document.getElementById('hintText');
                if (el) el.textContent = text;
            },

            craftItem() {
                if (!this.currentRecipe) return;
                
                document.getElementById('successText').textContent = 
                    `You crafted a ${this.currentRecipe.name}! ${this.currentRecipe.desc}`;
                document.getElementById('successPopup').classList.add('active');
            },

            closeSuccess() {
                document.getElementById('successPopup').classList.remove('active');
                this.clearGrid();
            },

            showCityDetail(name) {
                const city = this.cities.find(c => c.name === name);
                this.showInfoPopup({
                    icon: 'üèôÔ∏è',
                    title: city.name,
                    subtitle: `${city.province} ‚Ä¢ ${city.knownAs}`,
                    description: `Founded in ${city.established}, ${city.name} is known as the "${city.knownAs}" with a population of approximately ${city.population}. Located at ${city.altitude} altitude.`,
                    details: `Population: ${city.population}<br>Province: ${city.province}<br>Established: ${city.established}<br>Altitude: ${city.altitude}<br>Nickname: ${city.knownAs}`,
                    tags: ['Major City', city.province, city.knownAs]
                });
            },

            showParkDetail(name) {
                const park = this.parks.find(p => p.name === name);
                this.showInfoPopup({
                    icon: 'üèûÔ∏è',
                    title: park.name,
                    subtitle: `${park.province} ‚Ä¢ Est. ${park.established}`,
                    description: park.description,
                    details: `Size: ${park.size}<br>Established: ${park.established}<br>Best Time: ${park.bestTime}<br>Accommodation: ${park.accommodation}<br>Province: ${park.province}`,
                    tags: park.animals
                });
            },

            showAnimalDetail(idx) {
                const animal = this.animals[idx];
                this.showInfoPopup({
                    icon: animal.emoji,
                    title: animal.name,
                    subtitle: `${animal.scientific} ‚Ä¢ ${animal.region}`,
                    description: `The ${animal.name} is a ${animal.diet.toLowerCase()} found in ${animal.region}. Best spotted at ${animal.bestTime.toLowerCase()}.`,
                    details: `Weight: ${animal.weight}<br>Lifespan: ${animal.lifespan}<br>Population: ${animal.population}<br>Diet: ${animal.diet}<br>Best Time: ${animal.bestTime}<br>Status: ${animal.threat}<br>Camp: ${animal.camp}`,
                    tags: [animal.diet, animal.threat, animal.bestTime]
                });
            },

            showProvinceDetail(name) {
                const prov = this.provinces.find(p => p.name === name);
                this.showInfoPopup({
                    icon: 'üèõÔ∏è',
                    title: prov.name,
                    subtitle: `Capital: ${prov.capital}`,
                    description: `Known for: ${prov.knownFor}`,
                    details: `Population: ${prov.population}<br>Area: ${prov.area}<br>Capital: ${prov.capital}<br>Code: ${prov.code}`,
                    tags: prov.knownFor.split(', ')
                });
            },

            showInfoPopup(data) {
                document.getElementById('infoIcon').textContent = data.icon;
                document.getElementById('infoTitle').textContent = data.title;
                document.getElementById('infoSubtitle').textContent = data.subtitle;
                document.getElementById('infoDescription').textContent = data.description;
                document.getElementById('infoDetails').innerHTML = data.details;
                
                const tagsContainer = document.getElementById('infoTags');
                tagsContainer.innerHTML = data.tags.map(tag => `<span class="info-popup-tag">${tag}</span>`).join('');
                
                document.getElementById('infoPopup').classList.add('active');
            },

            closeInfoPopup() {
                document.getElementById('infoPopup').classList.remove('active');
            },

            showCreateModal() {
                document.getElementById('createModal').classList.add('active');
            },

            hideCreateModal() {
                document.getElementById('createModal').classList.remove('active');
            },

            createServer() {
                const name = document.getElementById('srvName').value || 'New Server';
                const region = document.getElementById('srvRegion').value;
                const max = parseInt(document.getElementById('srvPlayers').value);
                const type = document.getElementById('srvType').value;
                const mode = document.getElementById('srvMode').value;
                
                const newServer = {
                    id: Date.now().toString(),
                    name: `${region === 'jhb' ? 'ü¶Å' : region === 'cpt' ? '‚õ∞Ô∏è' : 'üåä'} ${name}`,
                    type: type,
                    mode: mode,
                    players: 0,
                    max: max,
                    status: 'Offline',
                    ip: `192.168.${Math.floor(Math.random()*255)}.${Math.floor(Math.random()*255)}:25565`,
                    region: region,
                    logs: []
                };
                
                this.servers.unshift(newServer);
                this.hideCreateModal();
                this.currentServer = newServer;
                this.openConsole(newServer.id);
                this.navigate('servers');
            },

            openConsole(serverId) {
                const server = this.servers.find(s => s.id === serverId);
                if (!server) return;
                
                this.currentServer = server;
                document.getElementById('consoleTitle').textContent = server.name;
                document.getElementById('consoleIp').textContent = server.ip;
                document.getElementById('consoleModal').classList.add('active');
                
                const output = document.getElementById('consoleOutput');
                const input = document.getElementById('consoleInput');
                const startBtn = document.getElementById('startBtn');
                const stopBtn = document.getElementById('stopBtn');
                
                if (server.status === 'Online') {
                    output.textContent = server.logs.join('\n');
                    input.disabled = false;
                    startBtn.style.display = 'none';
                    stopBtn.style.display = 'block';
                } else {
                    output.textContent = 'Server offline. Press START to boot.';
                    input.disabled = true;
                    startBtn.style.display = 'block';
                    stopBtn.style.display = 'none';
                }
            },

            hideConsole() {
                document.getElementById('consoleModal').classList.remove('active');
            },

            startServer() {
                const s = this.currentServer;
                s.status = 'Starting';
                
                const logs = [
                    '[00:00:01] [Server thread/INFO]: Starting minecraft server version 1.20.1',
                    '[00:00:01] [Server thread/INFO]: Loading properties',
                    `[00:00:01] [Server thread/INFO]: Default game type: ${s.mode.toUpperCase()}`,
                    '[00:00:02] [Server thread/INFO]: Generating keypair',
                    '[00:00:02] [Server thread/INFO]: Starting Minecraft server on *:25565',
                    '[00:00:03] [Server thread/INFO]: Using epoll channel type',
                    '[00:00:03] [Server thread/INFO]: Preparing level "world"',
                    '[00:00:04] [Server thread/INFO]: Preparing spawn area: 0%',
                    '[00:00:05] [Server thread/INFO]: Preparing spawn area: 12%',
                    '[00:00:06] [Server thread/INFO]: Preparing spawn area: 25%',
                    '[00:00:07] [Server thread/INFO]: Preparing spawn area: 38%',
                    '[00:00:08] [Server thread/INFO]: Preparing spawn area: 51%',
                    '[00:00:09] [Server thread/INFO]: Preparing spawn area: 64%',
                    '[00:00:10] [Server thread/INFO]: Preparing spawn area: 77%',
                    '[00:00:11] [Server thread/INFO]: Preparing spawn area: 89%',
                    '[00:00:12] [Server thread/INFO]: Preparing spawn area: 100%',
                    '[00:00:13] [Server thread/INFO]: Time elapsed: 11234 ms',
                    '[00:00:13] [Server thread/INFO]: Done (11.234s)! For help, type "help"',
                    '[00:00:13] [Server thread/INFO]: Listening on /0.0.0.0:25565',
                    '[00:00:14] [Server thread/INFO]: Timings Reset'
                ];
                
                let i = 0;
                const interval = setInterval(() => {
                    if (i >= logs.length) {
                        clearInterval(interval);
                        s.status = 'Online';
                        s.players = Math.floor(Math.random() * 5);
                        s.logs = [...logs];
                        document.getElementById('consoleInput').disabled = false;
                        document.getElementById('startBtn').style.display = 'none';
                        document.getElementById('stopBtn').style.display = 'block';
                        return;
                    }
                    document.getElementById('consoleOutput').textContent = logs.slice(0, i + 1).join('\n');
                    i++;
                }, 400);
            },

            stopServer() {
                const s = this.currentServer;
                const stopLogs = [
                    '[00:00:00] [Server thread/INFO]: Stopping the server',
                    '[00:00:00] [Server thread/INFO]: Saving players',
                    '[00:00:00] [Server thread/INFO]: Saving worlds',
                    '[00:00:01] [Server thread/INFO]: Saving chunks for level \'ServerLevel[world]\'/minecraft:overworld',
                    '[00:00:01] [Server thread/INFO]: Saving chunks for level \'ServerLevel[world_nether]\'/minecraft:the_nether',
                    '[00:00:01] [Server thread/INFO]: Saving chunks for level \'ServerLevel[world_the_end]\'/minecraft:the_end',
                    '[00:00:02] [Server thread/INFO]: ThreadedAnvilChunkStorage (world): All chunks are saved',
                    '[00:00:02] [Server thread/INFO]: ThreadedAnvilChunkStorage (DIM-1): All chunks are saved',
                    '[00:00:02] [Server thread/INFO]: ThreadedAnvilChunkStorage (DIM1): All chunks are saved',
                    '[00:00:02] [Server thread/INFO]: Flushing Chunk IO',
                    '[00:00:02] [Server thread/INFO]: Closing Thread Pool',
                    '[00:00:02] [Server thread/INFO]: Stopped!'
                ];
                
                let currentLogs = document.getElementById('consoleOutput').textContent.split('\n');
                let i = 0;
                const interval = setInterval(() => {
                    if (i >= stopLogs.length) {
                        clearInterval(interval);
                        s.status = 'Offline';
                        s.players = 0;
                        document.getElementById('consoleInput').disabled = true;
                        document.getElementById('startBtn').style.display = 'block';
                        document.getElementById('stopBtn').style.display = 'none';
                        return;
                    }
                    currentLogs.push(stopLogs[i]);
                    document.getElementById('consoleOutput').textContent = currentLogs.join('\n');
                    i++;
                }, 300);
            },

            sendCommand(cmd) {
                if (!cmd) return;
                const s = this.currentServer;
                const timeStr = new Date().toLocaleTimeString('en-US', { hour12: false });
                const newLog = `[${timeStr}] [Server thread/INFO]: ${s.name} issued server command: /${cmd}`;
                
                let currentLogs = document.getElementById('consoleOutput').textContent.split('\n');
                currentLogs.push(newLog);
                
                if (cmd === 'help') {
                    currentLogs.push(`[${timeStr}] [Server thread/INFO]: --- Showing help page 1 of 3 (/help <page>) ---`);
                    currentLogs.push(`[${timeStr}] [Server thread/INFO]: /ban <player> [reason]`);
                    currentLogs.push(`[${timeStr}] [Server thread/INFO]: /ban-ip <address|player> [reason]`);
                    currentLogs.push(`[${timeStr}] [Server thread/INFO]: /clear [player] [item] [maxCount]`);
                    currentLogs.push(`[${timeStr}] [Server thread/INFO]: /deop <player>`);
                } else if (cmd === 'stop') {
                    this.stopServer();
                    return;
                } else if (cmd === 'list') {
                    currentLogs.push(`[${timeStr}] [Server thread/INFO]: There are ${s.players} of a max of ${s.max} players online:`);
                } else if (cmd === 'version') {
                    currentLogs.push(`[${timeStr}] [Server thread/INFO]: This server is running ${s.type} version git-${s.type}-1.20.1-100 (MC: 1.20.1) (Implementing API version 1.20.1-R0.1-SNAPSHOT)`);
                } else {
                    currentLogs.push(`[${timeStr}] [Server thread/INFO]: Unknown command. Type "/help" for help.`);
                }
                
                document.getElementById('consoleOutput').textContent = currentLogs.join('\n');
                document.getElementById('consoleInput').value = '';
            }
        };

        document.addEventListener('DOMContentLoaded', () => app.init());
    </script>
</body>
</html>
